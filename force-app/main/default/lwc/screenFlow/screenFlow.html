<!--
 -  Lightning Markup: screenFlow
 -
 -  Filename: screenFlow.cmp
 -
 -  Author: Peter Friberg, Xceed AB
 -
 -  Description:
 -    The screenFlow is a Lightning Web Component that shows a modal dialog with a
 -    Salesforce flow embedded in it. This dialog is shown or hidden based on the state
 -    of the 'showFlow' property. Call 'handleStartFlow()' function to open. The close
 -    button in the dialog calls the 'closeModal' function. The Salesforce flow embedded
 -    in this component is determined by the 'flowApiName' property, and its input
 -    variables are stored in the 'flowInputVariables' property.
 -    When modal is closed the 'onclose' event is fired.
 -
 -  Change Log:
 -     2024-05-08  Peter Friberg  Initial Development.
 -->

<!-- Screen Flow -->
<template>
    <div style="">
        <template lwc:if={showFlow}>

            <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">

                    <!-- Modal/Popup Box Header -->
                    <header class="slds-modal__header bigger-header">
                        <button class="slds-button slds-button_icon close-button-right" title="Close" onclick={closeModal}>
                            <lightning-icon icon-name="utility:close" size="small"></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <!-- <h2 class="slds-text-heading_medium">{flowTitle}</h2> -->
                    </header>

                    <!-- Modal/Popup Box Body -->
                    <div class="slds-modal__content slds-p-around_medium">

                        <!-- Flow will be embedded here -->
                        <lightning-flow flow-api-name={flowApiName}
                                        flow-input-variables={flowInputVariables}
                                        onstatuschange={handleStatusChange}>
                        </lightning-flow>

                    </div>
                </div>
            </section>

            <div class="slds-backdrop slds-backdrop_open"></div>
        </template>
    </div>
</template>